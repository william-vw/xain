@prefix : <http://niche.cs.dal.ca/ns/copd.owl#> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> .
@prefix math: <http://www.w3.org/2000/10/swap/math#> .
@prefix pml: <http://provenanceweb.org/ns/pml#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix x: <http://wvw.org/xai#> .
@prefix xmath: <http://wvw.org/xai/swap/math#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .


{
   ?x a ?type .
   ?type ?p ?y .
   ?p!log:namespace <-log:uri x: 
}
=> 
{
   ?x ?p ?y 
} .


# Zones
#
:ZoneExplanation x:header1 "You are in:" ;
   x:header2 "Because you have:" .
#
:ZoneReasonExplanation x:header1 "Risk Factor:" ;
   x:header2 "Relation with COPD:" .

#
:isStratified x:explanation [
   a :ZoneExplanation ;
   x:object :GreenZone ;
   x:icon "fa-check" ;
   x:style "text-green" ;
   x:summary "Your COPD is well controlled. We advise you to continue taking your medications as prescribed." 
] .
#
:isStratified x:explanation [
   a :ZoneExplanation ;
   x:object :YellowZone ;
   x:icon "fa-exclamation-circle" ;
   x:style "text-orange" ;
   x:summary "This means you should follow your action plan immediately. If your symptoms don't improve after 48 hours, seek medical care immediately." 
] .
#
:isStratified x:explanation [
   a :ZoneExplanation ;
   x:object :RedZone ;
   x:icon "fa-ban" ;
   x:style "text-red" ;
   x:summary "Take Action - Get Help! Call 911 for an ambulance to take you to the emergency room." 
] .

#
:hasActivityExertionValue rdfs:label "activity level" ;
   x:explanation [
       a :ZoneReasonExplanation ;
       x:object ?x ;
       x:icon "fa-person-running" ;
       x:summary "Level of activity exertion." 
   ] .
#
:hasActivityExertion x:explanation [
   a :ZoneReasonExplanation ;
   x:object :Low ;
   x:icon "fa-face-grin-beam-sweat" ;
   x:summary "High levels of exertion when doing activities is a known factor for flare-ups." 
] .
#
:hasActivityExertion x:explanation [
   a :ZoneReasonExplanation ;
   x:object :High ;
   x:icon "fa-face-tongue-sweat" ;
   x:summary "High levels of exertion when doing activities is a known factor for flare-ups." 
] .
#
:hasActivityExertion x:explanation [
   a :ZoneReasonExplanation ;
   x:object :Severe ;
   x:icon "fa-face-tongue-sweat" ;
   x:summary "Severe levels of exertion when doing activities is a strong factor for flare-ups." 
] .

#
:hasColoredPhlegm x:explanation [
   a :ZoneReasonExplanation ;
   x:object true , false ;
   x:icon "fa-disease" ;
   x:summary "Colored phlegm (yellow, green, or rust) can be an indicator for flare-ups." 
] .

#
:hasPhlegmAmountValue rdfs:label "phlegm amount" ;
   x:explanation [
       a :ZoneReasonExplanation ;
       x:object ?x ;
       x:icon "fa-scale-unbalanced" ;
       x:summary "Amount of phlegm." 
   ] .
#
:hasPhlegmAmount x:explanation [
   a :ZoneReasonExplanation ;
   x:object :Low ;
   x:icon "fa-disease" ;
   x:summary "Moderate or higher amounts of phlegm are an indicator for flare-ups." 
] .
#
:hasPhlegmAmount x:explanation [
   a :ZoneReasonExplanation ;
   x:object :Moderate ;
   x:icon "fa-disease" ;
   x:summary "Moderate amounts of phlegm are an indicator for flare-ups." 
] .
#
:hasPhlegmAmount x:explanation [
   a :ZoneReasonExplanation ;
   x:object :Severe ;
   x:icon "fa-disease" ;
   x:summary "Severe amounts of phlegm are a very strong indicator for flare-ups." 
] .

#
:hasChestPain x:explanation [
   a :ZoneReasonExplanation ;
   x:object true ;
   x:icon "fa-heart-half-stroke" ;
   x:summary "Chest pain is a very strong indicator for flare-ups." 
] .


#
:hasOxygenSaturationValue rdfs:label "oxygen saturation" ;
   x:explanation [
       a :ZoneReasonExplanation ;
       x:object ?x ;
       x:icon "fa-vial" ;
       x:summary "oxygen saturation value." 
   ] .
#
:hasLowOxygenSaturation x:explanation [
   a :ZoneReasonExplanation ;
   x:object true ;
   x:icon "fa-mask-ventilator" ;
   x:summary "Low oxygen saturation is a very strong indicator for flare-ups." 
] .
#


# Environment
#
:RecommendationExplanation x:header1 "Today's recommendation:" ;
   x:header2 "Because of:" .
#
:RecommendationReasonExplanation x:header1 "Risk Factor:" ;
   x:header2 "Impact on COPD:" .

#
:recommendation x:explanation [
   a :RecommendationExplanation ;
   x:object :avoidGoingOutside ;
   x:style "text-section" ;
   x:icon "fa-store-alt-slash" ;
   x:summary "You should avoid going outside." 
] .
#
:recommendation x:explanation [
   a :RecommendationExplanation ;
   x:object :goOutside ;
   x:style "text-section" ;
   x:icon "fa-shop" ;
   x:summary "Feel free to go outside today and get some fresh air." 
] .

#
:hasHumidityValue rdfs:label "humidity" ;
   x:explanation [
       a :RecommendationReasonExplanation ;
       x:object ?x ;
       x:icon "fa-droplet-percent" ;
       x:summary "Percentage of humidity in the air." 
   ] .
#
:hasHighHumidity x:explanation [
   a :RecommendationReasonExplanation ;
   x:object true ;
   x:icon "fa-droplet" ;
   x:summary "High humidity is a known factor for triggering flare-ups." 
] .
#
:hasModerateHumidity x:explanation [
   a :RecommendationReasonExplanation ;
   x:object true ;
   x:icon "fa-droplet" ;
   x:summary "Low or high humidity is a known factor for triggering flare-ups." 
] .
#
:hasLowHumidity x:explanation [
   a :RecommendationReasonExplanation ;
   x:object true ;
   x:icon "fa-droplet-slash" ;
   x:summary "Low or high humidity is a known factor for triggering flare-ups." 
] .

#
:hasTemperatureValue rdfs:label "temperature" ;
   x:explanation [
       a :RecommendationReasonExplanation ;
       x:object ?x ;
       x:icon "fa-temperature-half" ;
       x:summary "Outside temperature." 
   ] .
#
:hasHighTemperature x:explanation [
   a :RecommendationReasonExplanation ;
   x:object true ;
   x:icon "fa-temperature-sun" ;
   x:summary "High temperatures are known factors for triggering flare-ups. " 
] .
#
:hasModerateTemperature x:explanation [
   a :RecommendationReasonExplanation ;
   x:object true ;
   x:icon "fa-temperature-half" ;
   x:summary "Low and high temperatures are known factors for triggering flare-ups." 
] .
#
:hasLowTemperature x:explanation [
   a :RecommendationReasonExplanation ;
   x:object true ;
   x:icon "fa-temperature-snow" ;
   x:summary "Low temperatures are known factors for triggering flare-ups. " 
] .
